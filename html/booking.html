<!DOCTYPE html>
<html>
<head>


<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.1.3/css/bootstrap-datetimepicker.min.css" />
<link rel="stylesheet" href="https:////maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.1.3/js/bootstrap-datetimepicker.min.js"></script>



</head>
<body>

<br>

    <div class="col-sm-6 col-sm-offset-3">
         
        <form class="form-horizontal" role="form" style="text-align: left" action="/" method="post" id="booking">

                <div class="form-group">
                    <label for="name" class="col-sm-8 control-label" style="text-align: left">Name</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="name" name="name" placeholder="Vorname & Nachname" maxlength="40" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="Mobilnummer" class="col-sm-8 control-label" style="text-align: left">Mobilnummer</label>
                    <div class="col-sm-8">
                        <input type="Mobilnummer" class="form-control" id="Mobilnummer" name="Mobilnummer" placeholder="+49" maxlength="15" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="Passagiere" class="col-sm-8 control-label" style="text-align: left">Anzahl Passagiere</label>
                    <div class="col-sm-8">
                        <input type="number" class="form-control" id="Passagiere" name="Passagiere" maxlength="1" min="1" max="9" required>
                    </div>
                </div>
                <div class="form-group">
                    	<label for="Haltestelle" class="col-sm-8 control-label" style="text-align: left">Haltestelle-Abholung</label>
                    	<div class="col-sm-8">
                        	<input type="text" class="form-control" id="Haltestelle" name="Haltestelle" placeholder="Haltestelle" maxlength="40" required>
                    	</div>
                </div>

                <div class="form-group">
                    
            	  	



                    <label for=mydatetimepicker class="col-sm-8 control-label" style="text-align: left">Abholzeit</label>
                    <div class="col-sm-8">
                		<div class="input-group date" id="datetimepicker" >
                			<input type="text" class="form-control" name="datetimepicker" readonly id='datetime' required>
                            <span class="input-group-addon"><i class="glyphicon glyphicon-th"></i></span>
                            <span class="add-on"><i class="icon-th"></i></span>
                        </div>

                    </div>

                </div>


                <div class="form-group">
                    <label for="Ziel" class="col-sm-8 control-label" style="text-align: left">Ziel-Adresse</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="Ziel" name="Ziel" placeholder="Straße, Hausnummer" maxlength="40" required >
                    </div>
                    <div class="col-sm-2">
                    <input type="number" class="form-control" id="Ziel_PLZ" name="Ziel_PLZ" placeholder="PLZ" maxlength="5" size="5" min="38440" max="38448" required >
                    </div>
                </div>

                <script type="text/javascript">
                            $(function () {
                                $(".date").datetimepicker({
                                format:'YYYY-MM-DD HH:mm',
                                autoclose: true,
                                language: 'de',
                                daysOfWeekDisabled: [1,2,3,4,5],
                                disabledTimeIntervals: [[moment({ h: 8 }), moment({ h: 23 })]],
                                icons: {
                                    time: "fa fa-clock-o",
                                    date: "fa fa-calendar",
                                    up: "fa fa-arrow-up",
                                    down: "fa fa-arrow-down"
                                }
                                });
                             
                                //submit - check der Servicezeit
                                $( "#booking" ).submit(function(e) {
                                    
                                    var str = $("#datetime").val().substr(11, 2);

                                    var PLZ = $("#Ziel_PLZ").val();
                         
                                    if(!(str == 23 || str == '00' || str < 8)) {

                                        $('#exampleModalCenter').modal('show'); 

                                        e.preventDefault();
                                 
                                    } else if(!(PLZ >= 38440 && PLZ <= 38448)){

                                        $('#exampleModalCenter').modal('show'); 

                                        e.preventDefault();

                                    } else {

                                        return;

                                    }
                                });
                            });

                            </script>


                <div class="form-group">
                    <div class="col-sm-8">
                    
                        <a href="/" class="btn btn-primary" role="button">Zur&uuml;ck</a>

                        <input id="submit" name="submit" type="submit" value="Jetzt Bestellen!" class="btn btn-success" style="float: right;">
                    
                    </div>
                </div>

        </form>
        </div>


        <!-- Modal -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Servicezeiten</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                      Zu der gewählten Zeit steht der Service nicht zur Verfügung.<br>Die Servicezeiten sind von: 23:00 Uhr - 08:00 Uhr<br><br>Das Servicegebiet beschränkt sich auf die Stadt Wolfsburg.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>




    </body>
</html>